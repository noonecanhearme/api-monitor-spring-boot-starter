{
  "groups": [
    {
      "name": "api.monitor",
      "type": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties",
      "sourceType": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties"
    },
    {
      "name": "api.monitor.database",
      "type": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties.DatabaseConfig",
      "sourceType": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties"
    },
    {
      "name": "api.monitor.flame-graph",
      "type": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties.FlameGraphConfig",
      "sourceType": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties"
    }
  ],
  "properties": [
    {
      "name": "api.monitor.enabled",
      "type": "java.lang.Boolean",
      "description": "Whether to enable API monitoring",
      "defaultValue": true
    },
    {
      "name": "api.monitor.log-type",
      "type": "java.lang.String",
      "description": "Log recording method: log (default) or database",
      "defaultValue": "log"
    },
    {
      "name": "api.monitor.log-file-path",
      "type": "java.lang.String",
      "description": "Log file save path (valid when log-type is log)",
      "defaultValue": "./logs/api-monitor.log"
    },
    {
      "name": "api.monitor.log-request-body",
      "type": "java.lang.Boolean",
      "description": "Whether to log request body",
      "defaultValue": true
    },
    {
      "name": "api.monitor.log-response-body",
      "type": "java.lang.Boolean",
      "description": "Whether to log response body",
      "defaultValue": true
    },
    {
      "name": "api.monitor.ignore-paths",
      "type": "java.lang.String[]",
      "description": "Ignored URL paths",
      "defaultValue": []
    },
    {
      "name": "api.monitor.log-headers",
      "type": "java.lang.Boolean",
      "description": "Whether to log request and response headers",
      "defaultValue": false
    },
    {
      "name": "api.monitor.sensitive-headers",
      "type": "java.util.Set<java.lang.String>",
      "description": "Sensitive header information that needs to be filtered in logs",
      "defaultValue": ["authorization", "token", "secret", "password"]
    },
    {
      "name": "api.monitor.async-logging",
      "type": "java.lang.Boolean",
      "description": "Whether to log asynchronously",
      "defaultValue": true
    },
    {
      "name": "api.monitor.request-body-max-length",
      "type": "java.lang.Integer",
      "description": "Maximum request body length (bytes)",
      "defaultValue": 10240
    },
    {
      "name": "api.monitor.response-body-max-length",
      "type": "java.lang.Integer",
      "description": "Maximum response body length (bytes)",
      "defaultValue": 10240
    },
    {
      "name": "api.monitor.database.enabled",
      "type": "java.lang.Boolean",
      "description": "Whether to enable database storage",
      "defaultValue": false
    },
    {
      "name": "api.monitor.database.table-prefix",
      "type": "java.lang.String",
      "description": "Database table name prefix",
      "defaultValue": "api_"
    },
    {
      "name": "api.monitor.database.auto-create-table",
      "type": "java.lang.Boolean",
      "description": "Whether to automatically create tables",
      "defaultValue": true
    },
    {
      "name": "api.monitor.flame-graph.enabled",
      "type": "java.lang.Boolean",
      "description": "Whether to enable flame graph generation",
      "defaultValue": false
    },
    {
      "name": "api.monitor.flame-graph.save-path",
      "type": "java.lang.String",
      "description": "Flame graph save path",
      "defaultValue": "./flamegraphs"
    },
    {
      "name": "api.monitor.flame-graph.sampling-duration",
      "type": "java.lang.Integer",
      "description": "Flame graph sampling duration (milliseconds)",
      "defaultValue": 1000
    },
    {
      "name": "api.monitor.flame-graph.sampling-rate",
      "type": "java.lang.Integer",
      "description": "Flame graph sampling rate (milliseconds)",
      "defaultValue": 50
    },
    {
      "name": "api.monitor.flame-graph.format",
      "type": "java.lang.String",
      "description": "Flame graph output format, supports html, svg, json",
      "defaultValue": "html"
    },
    {
      "name": "api.monitor.flame-graph.event-type",
      "type": "io.github.noonecanhearme.apimonitor.ApiMonitorProperties$FlameGraphEventType",
      "description": "Flame graph analysis event type",
      "defaultValue": "CPU"
    }
  ],
  "hints": [
    {
      "name": "api.monitor.log-type",
      "values": [
        {
          "value": "log",
          "description": "Use log files to record API call information"
        },
        {
          "value": "database",
          "description": "Use database to record API call information"
        }
      ]
    },
    {
      "name": "api.monitor.flame-graph.format",
      "values": [
        {
          "value": "html",
          "description": "Generate HTML format flame graph"
        },
        {
          "value": "svg",
          "description": "Generate SVG format flame graph"
        },
        {
          "value": "json",
          "description": "Generate JSON format flame graph data"
        }
      ]
    },
    {
      "name": "api.monitor.flame-graph.event-type",
      "values": [
        {
          "value": "CPU",
          "description": "Analyze CPU usage and call duration"
        },
        {
          "value": "ALLOC",
          "description": "Analyze memory allocation"
        },
        {
          "value": "LOCK",
          "description": "Analyze lock contention and thread blocking"
        },
        {
          "value": "CACHE_MISSES",
          "description": "Analyze cache misses"
        }
      ]
    }
  ]
}